{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Admin Configuration</h2>

    <div class="config-section">
        <h3>LLM Configuration</h3>
        <div class="form-group">
            <label>Provider</label>
            <select id="llm-provider">
                <option value="openai">OpenAI</option>
                <option value="ollama">Ollama</option>
            </select>
        </div>

        <div id="openai-config">
            <div class="form-group">
                <label>Model Name</label>
                <input type="text" id="openai-model" value="gpt-3.5-turbo">
            </div>
        </div>

        <div id="ollama-config" style="display:none;">
            <div class="form-group">
                <label>Base URL</label>
                <input type="text" id="ollama-url" value="http://localhost:11434">
            </div>
            <div class="form-group">
                <label>Model Name</label>
                <input type="text" id="ollama-model" value="llama2">
            </div>
        </div>
    </div>

    <div class="config-section">
        <h3>Google Drive Connector</h3>
        <p>Configure folders to be indexed.</p>
        <!-- Placeholder for Drive folder management -->
        <div id="drive-folders-list"></div>
        <button onclick="addDriveFolder()">+ Add Folder</button>
    </div>

    <button onclick="saveConfig()">Save Configuration</button>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        loadConfig();

        const providerSelect = document.getElementById('llm-provider');
        providerSelect.addEventListener('change', (e) => {
            toggleLLMConfig(e.target.value);
        });
    });

    function toggleLLMConfig(provider) {
        document.getElementById('openai-config').style.display = provider === 'openai' ? 'block' : 'none';
        document.getElementById('ollama-config').style.display = provider === 'ollama' ? 'block' : 'none';
    }
</script>
{% endblock %}
